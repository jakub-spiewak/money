import{a8 as b,r as a,j as m,a9 as D,aa as I}from"./index.941be39d.js";const y="label";function h(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function K(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function C(t,e){t.labels=e}function x(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y;const c=[];t.datasets=e.map(n=>{const o=t.datasets.find(i=>i[r]===n[r]);return!o||!n.data||c.includes(o)?{...n}:(c.push(o),Object.assign(o,n),o)})}function O(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;const r={labels:[],datasets:[]};return C(r,t.labels),x(r,t.datasets,e),r}function v(t,e){let{height:r=150,width:c=300,redraw:n=!1,datasetIdKey:o,type:i,data:u,options:f,plugins:R=[],fallbackContent:j,updateMode:g,...E}=t;const d=a.exports.useRef(null),s=a.exports.useRef(),l=()=>{!d.current||(s.current=new b(d.current,{type:i,data:O(u,o),options:f&&{...f},plugins:R}),h(e,s.current))},p=()=>{h(e,null),s.current&&(s.current.destroy(),s.current=null)};return a.exports.useEffect(()=>{!n&&s.current&&f&&K(s.current,f)},[n,f]),a.exports.useEffect(()=>{!n&&s.current&&C(s.current.config.data,u.labels)},[n,u.labels]),a.exports.useEffect(()=>{!n&&s.current&&u.datasets&&x(s.current.config.data,u.datasets,o)},[n,u.datasets]),a.exports.useEffect(()=>{!s.current||(n?(p(),setTimeout(l)):s.current.update(g))},[n,f,u.labels,u.datasets,g]),a.exports.useEffect(()=>{!s.current||(p(),setTimeout(l))},[i]),a.exports.useEffect(()=>(l(),()=>p()),[]),m("canvas",{...Object.assign({ref:d,role:"img",height:r,width:c},E),children:j})}const P=a.exports.forwardRef(v);function w(t,e){return b.register(e),a.exports.forwardRef((r,c)=>m(P,{...Object.assign({},r,{ref:c,type:t})}))}const k=w("doughnut",D),L=w("pie",I);export{k as D,L as P};
